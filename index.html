<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>TikTok Panel — Simulador</title>

<link rel="manifest" href="data:application/json,{
  &quot;name&quot;:&quot;TikTok Panel&quot;,
  &quot;display&quot;:&quot;standalone&quot;
}">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#000;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  color:#fff;
}
.app{max-width:420px;margin:auto;min-height:100vh}
.header{
  padding:14px;
  text-align:center;
  font-size:20px;
  font-weight:700;
  border-bottom:1px solid #222;
}
.header span{color:#ff0050}
.section{padding:16px}
input{
  width:100%;
  padding:12px;
  border-radius:14px;
  border:none;
  background:#111;
  color:#fff;
  font-size:16px;
  margin-bottom:14px;
}
.card{
  background:#111;
  border-radius:16px;
  padding:14px;
  margin-bottom:12px;
  border:1px solid #222;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.card.active{border-color:#ff0050}
button{
  width:100%;
  padding:15px;
  border:none;
  border-radius:16px;
  background:#ff0050;
  color:#fff;
  font-size:17px;
  font-weight:700;
}
button:disabled{opacity:.5}
.loader,.success{display:none;text-align:center;padding:20px}
.spinner{
  width:46px;height:46px;
  border:4px solid #333;
  border-top:4px solid #ff0050;
  border-radius:50%;
  margin:0 auto 12px;
  animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}
.progress{height:8px;background:#222;border-radius:8px;overflow:hidden}
.bar{height:100%;width:0%;background:#ff0050;transition:.3s}
.check{
  width:72px;height:72px;
  background:#00c27a;
  border-radius:50%;
  margin:0 auto 12px;
  position:relative;
  animation:pop .4s ease;
}
.check:after{
  content:"";
  position:absolute;
  left:24px;top:38px;
  width:12px;height:24px;
  border-right:4px solid #fff;
  border-bottom:4px solid #fff;
  transform:rotate(45deg);
}
@keyframes pop{from{transform:scale(.5);opacity:0}to{transform:scale(1)}}
.counter{font-size:24px;color:#ff0050;font-weight:700}
.history{padding:16px;font-size:13px;opacity:.8}
.footer{font-size:11px;opacity:.5;text-align:center;padding:10px}
</style>
</head>

<body>
<div class="app">
  <div class="header">TikTok <span>Panel</span></div>

  <div class="section">
    <input id="user" placeholder="@usuario">

    <div class="card" onclick="setPack(1000,this)">1,000 monedas <b>$9.99</b></div>
    <div class="card" onclick="setPack(5000,this)">5,000 monedas <b>$39.99</b></div>
    <div class="card" onclick="setPack(10000,this)">10,000 monedas <b>$74.99</b></div>

    <button id="pay" onclick="pagar()">Confirmar pago</button>
  </div>

  <div class="loader" id="loader">
    <div class="spinner"></div>
    Procesando…
    <div class="progress"><div class="bar" id="bar"></div></div>
  </div>

  <div class="success" id="success">
    <div class="check"></div>
    <div>Pago confirmado</div>
    <div class="counter" id="coins">+0</div>
  </div>

  <div class="history" id="history"></div>
  <div class="footer">Simulación visual · No es un pago real</div>
</div>

<audio id="sound">
  <source src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg">
</audio>

<script>
let pack=0, locked=false;
const lang=navigator.language.startsWith("en")?"en":"es";

function setPack(v,el){
  pack=v;
  document.querySelectorAll(".card").forEach(c=>c.classList.remove("active"));
  el.classList.add("active");
}

function pagar(){
  if(locked) return;
  const u=user.value.trim();
  if(!u||!pack) return alert(lang==="es"?"Completa los datos":"Fill all fields");
  locked=true; pay.disabled=true;

  navigator.vibrate?.(50);
  loader.style.display="block";
  success.style.display="none";

  let p=0;
  const i=setInterval(()=>{
    p+=10; bar.style.width=p+"%";
    if(p>=100){
      clearInterval(i);
      loader.style.display="none";
      success.style.display="block";
      sound.play();
      animCoins();
      addHistory(u,pack);
      setTimeout(reset,4000);
    }
  },200);
}

function animCoins(){
  let c=0, inc=pack/20;
  const i=setInterval(()=>{
    c+=inc; coins.textContent="+"+Math.floor(c);
    if(c>=pack) clearInterval(i);
  },80);
}

function addHistory(u,p){
  history.innerHTML+=`✔️ ${u} — ${p} monedas<br>`;
}

function reset(){
  locked=false; pay.disabled=false;
  bar.style.width="0%"; coins.textContent="+0";
}
</script>
</body>
</html>
